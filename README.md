# 🚀 A股量化投研系统 - 股票归因分析 + 多因子选股 + 自动交易

**基于120个量价因子的机器学习多因子选股策略，支持灵活配置与自动交易**

****

![image-20260123020222985](C:\Users\qq100\AppData\Roaming\Typora\typora-user-images\image-20260123020222985.png)

---

## ![image-20260123020151540](C:\Users\qq100\AppData\Roaming\Typora\typora-user-images\image-20260123020151540.png)

## 📊 系统简介

本系统通过120个量价因子构建机器学习选股模型，在全A主板股票池中进行横截面选股。策略采用严格的T-1信号T日执行框架，避免未来信息泄露，确保回测结果可信。

### 核心特性

- **灵活配置**: 支持高风险进攻型少数选股(5-10只)，也支持低风险防御型大量选股(20-30只)

- **自动交易**: 生成CSV文件，支持PTrade或同花顺篮子交易

- **严格回测**: T-1日生成信号，T日尾盘执行，无前视偏差

- **涨停过滤**: 信号日和执行日双重涨停检测，确保实盘可执行

---

## 📈 策略表现

**回测区间**: 2025年1月-12月 (全A主板股票池)

---

## 🚀 快速开始

### 1. 环境准备

```

### 2. 一键运行

​```bash

# 更新数据并生成最新信号

python run_daily.py

```

### 3. 配置选股数量

```python

# 在 run_daily.py 中修改

### 4. 导入交易平台

生成的 `latest_signal.csv` 可直接导入:

- **PTrade**: 使用篮子交易功能

- **同花顺**: 使用条件单或篮子交易

---

## 📂 核心文件

```

├── run_daily.py              # 一键运行脚本 ⭐

├── multi_factor_model.py     # 主策略模型

├── alpha_factors.py          # 120个因子引擎

├── latest_signal.csv         # 最新选股信号

└── 全a_updated.csv           # 全A数据(自动更新)

```

---

## 🎯 策略逻辑

1. **数据准备**: 从全A股票池中筛选主板股票(排除ST、科创板、创业板)

2. **因子计算**: 计算120个量价因子(动量、反转、波动率、成交量等)

3. **模型训练**: 使用历史数据训练,验证集调参

4. **信号生成**: T-1日收盘后生成信号,过滤涨停股票

5. **执行交易**: T日尾盘执行,再次过滤涨停,从备选池补充

---

## ⚙️ 配置说明

### 选股数量配置

​```python

# 高风险进攻型 (集中持仓)

top_n = 10-20   # 单只权重高,波动大,潜在收益高

# 低风险防御型 (分散持仓)

top_n = 100-200  # 单只权重低,波动小,回撤控制好

```

### 调仓频率配置

```python

一周一次调仓

```

---

## 📊 输出文件

### latest_signal.csv

| 列名 | 说明 |

|------|------|

| TRADE_CODE | 股票代码 |

| weight | 持仓权重 |

| pred | 预测值 |

| signal_date | 信号日期 |

| exec_date | 执行日期 |

---

## ⚠️ 风险提示

- 本策略基于历史数据回测,不保证未来收益

- 市场环境变化可能导致策略失效

- 实盘交易需根据个人风险承受能力调整持仓数量

- 涨停股票无法买入,实际持仓可能少于目标数量

---

## 📞 联系方式

**QQ**: 1006775897

---

## 📄 许可证

本项目仅供学习研究使用,不构成投资建议。使用本项目进行实盘交易的风险由使用者自行承担。